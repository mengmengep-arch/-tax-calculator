<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ - ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥ (Fixed)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤</h1>
            <p class="subtitle">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ (‡∏õ‡∏µ‡∏†‡∏≤‡∏©‡∏µ 2568)</p>
        </header>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-label">Simulation</div>
            </div>
            <div class="progress-step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-label">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</div>
            </div>
        </div>

        <div class="wizard-container">
            <!-- Step 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ -->
            <div class="wizard-step active" id="step1">
                <h2>üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</h2>

                <div class="form-group">
                    <label for="salary">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó):</label>
                    <div class="input-with-slider">
                        <input type="text" id="salary" value="30,000">
                        <input type="range" id="salarySlider" min="0" max="200000" step="1000" value="30000">
                    </div>
                    <div class="slider-value">‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="salaryDisplay">30,000</span> ‡∏ö‡∏≤‡∏ó</div>
                </div>

                <div class="form-group">
                    <label for="bonus">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠‡∏õ‡∏µ (‡∏ö‡∏≤‡∏ó):</label>
                    <div class="input-with-slider">
                        <input type="text" id="bonus" value="0">
                        <input type="range" id="bonusSlider" min="0" max="500000" step="10000" value="0">
                    </div>
                    <div class="slider-value">‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="bonusDisplay">0</span> ‡∏ö‡∏≤‡∏ó</div>
                </div>

                <div class="info-box">
                    <h4>üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</h4>
                    <p>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠‡∏õ‡∏µ: <strong id="totalIncomePreview">360,000</strong> ‡∏ö‡∏≤‡∏ó</p>
                    <p>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ 50% (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 100,000): <strong id="expensesPreview">100,000</strong> ‡∏ö‡∏≤‡∏ó</p>
                    <p>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: <strong id="netIncomePreview">260,000</strong> ‡∏ö‡∏≤‡∏ó</p>
                </div>

                <button class="btn-next" onclick="alert('Moving to step 2...')">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Inline script for testing -->
    <script>
        console.log('üî• INLINE SCRIPT STARTING...');

        function formatNumber(num) {
            return Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        function parseNumber(str) {
            return parseFloat(str.replace(/,/g, '')) || 0;
        }

        // Test if elements exist
        console.log('Checking elements...');
        console.log('salary:', document.getElementById('salary'));
        console.log('salarySlider:', document.getElementById('salarySlider'));
        console.log('salaryDisplay:', document.getElementById('salaryDisplay'));

        // Setup salary slider
        const salaryInput = document.getElementById('salary');
        const salarySlider = document.getElementById('salarySlider');
        const salaryDisplay = document.getElementById('salaryDisplay');

        if (salaryInput && salarySlider && salaryDisplay) {
            console.log('‚úÖ All salary elements found!');

            // Slider changes input
            salarySlider.addEventListener('input', function() {
                console.log('üéöÔ∏è Salary slider moved to:', this.value);
                const val = this.value;
                salaryInput.value = formatNumber(val);
                salaryDisplay.textContent = formatNumber(val);
                updateIncomePreview();
            });

            // Input changes slider
            salaryInput.addEventListener('input', function() {
                console.log('‚å®Ô∏è Salary input changed to:', this.value);
                const val = parseNumber(this.value);
                salarySlider.value = val;
                salaryDisplay.textContent = formatNumber(val);
                updateIncomePreview();
            });

            console.log('‚úÖ Salary slider listeners attached!');
        } else {
            console.error('‚ùå Some salary elements missing!');
        }

        // Setup bonus slider
        const bonusInput = document.getElementById('bonus');
        const bonusSlider = document.getElementById('bonusSlider');
        const bonusDisplay = document.getElementById('bonusDisplay');

        if (bonusInput && bonusSlider && bonusDisplay) {
            bonusSlider.addEventListener('input', function() {
                const val = this.value;
                bonusInput.value = formatNumber(val);
                bonusDisplay.textContent = formatNumber(val);
                updateIncomePreview();
            });

            bonusInput.addEventListener('input', function() {
                const val = parseNumber(this.value);
                bonusSlider.value = val;
                bonusDisplay.textContent = formatNumber(val);
                updateIncomePreview();
            });

            console.log('‚úÖ Bonus slider listeners attached!');
        }

        function updateIncomePreview() {
            const salary = parseNumber(salaryInput.value);
            const bonus = parseNumber(bonusInput.value);
            const totalIncome = (salary * 12) + bonus;
            const expenses = Math.min(totalIncome * 0.5, 100000);
            const netIncome = totalIncome - expenses;

            document.getElementById('totalIncomePreview').textContent = formatNumber(totalIncome);
            document.getElementById('expensesPreview').textContent = formatNumber(expenses);
            document.getElementById('netIncomePreview').textContent = formatNumber(netIncome);

            console.log('üìä Updated preview:', {totalIncome, expenses, netIncome});
        }

        // Initial update
        updateIncomePreview();

        console.log('‚úÖ INLINE SCRIPT COMPLETE!');
    </script>
</body>
</html>
